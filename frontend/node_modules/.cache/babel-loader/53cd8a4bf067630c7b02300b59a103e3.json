{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, MY_CARTS_REQUEST, MY_CARTS_SUCCESS, MY_CARTS_FAIL } from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: [],\n  shippingInfo: {}\n}, action) => {\n  switch (action.type) {\n    case MY_CARTS_REQUEST:\n      return {\n        loading: true\n      };\n\n    case MY_CARTS_SUCCESS:\n      return {\n        loading: false,\n        carts: action.payload\n      };\n\n    case MY_CARTS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      };\n\n    case ADD_TO_CART:\n      const item = action.payload;\n      const isItemExist = state.cartItems.find(i => i.product === item.product);\n\n      if (isItemExist) {\n        return { ...state,\n          cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, item]\n        };\n      }\n\n    case REMOVE_ITEM_CART:\n      return { ...state,\n        cartItems: state.cartItems.filter(i => i.product !== action.payload)\n      };\n\n    case SAVE_SHIPPING_INFO:\n      return { ...state,\n        shippingInfo: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/anhta/OneDrive/Máy tính/Nhom3_IVS_ThucTapChuyenNganh/frontend/src/reducers/cartReducers.js"],"names":["ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","MY_CARTS_REQUEST","MY_CARTS_SUCCESS","MY_CARTS_FAIL","cartReducer","state","cartItems","shippingInfo","action","type","loading","carts","payload","error","item","isItemExist","find","i","product","map","filter"],"mappings":"AAAA,SACIA,WADJ,EAEIC,gBAFJ,EAGIC,kBAHJ,EAIIC,gBAJJ,EAKIC,gBALJ,EAMIC,aANJ,QAOO,4BAPP;AASA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,SAAS,EAAE,EAAb;AAAiBC,EAAAA,YAAY,EAAE;AAA/B,CAAT,EAA8CC,MAA9C,KAAyD;AAChF,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,gBAAL;AACI,aAAO;AACHS,QAAAA,OAAO,EAAE;AADN,OAAP;;AAGJ,SAAKR,gBAAL;AACI,aAAO;AACHQ,QAAAA,OAAO,EAAE,KADN;AAEHC,QAAAA,KAAK,EAAEH,MAAM,CAACI;AAFX,OAAP;;AAIJ,SAAKT,aAAL;AACI,aAAO;AACHO,QAAAA,OAAO,EAAE,KADN;AAEHG,QAAAA,KAAK,EAAEL,MAAM,CAACI;AAFX,OAAP;;AAIJ,SAAKd,WAAL;AACI,YAAMgB,IAAI,GAAGN,MAAM,CAACI,OAApB;AAEA,YAAMG,WAAW,GAAGV,KAAK,CAACC,SAAN,CAAgBU,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcJ,IAAI,CAACI,OAA7C,CAApB;;AAEA,UAAIH,WAAJ,EAAiB;AACb,eAAO,EACH,GAAGV,KADA;AAEHC,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBa,GAAhB,CAAoBF,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcH,WAAW,CAACG,OAA1B,GAAoCJ,IAApC,GAA2CG,CAApE;AAFR,SAAP;AAIH,OALD,MAKO;AACH,eAAO,EACH,GAAGZ,KADA;AAEHC,UAAAA,SAAS,EAAE,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAqBQ,IAArB;AAFR,SAAP;AAIH;;AAEL,SAAKf,gBAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHC,QAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBc,MAAhB,CAAuBH,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcV,MAAM,CAACI,OAAjD;AAFR,OAAP;;AAMJ,SAAKZ,kBAAL;AACI,aAAO,EACH,GAAGK,KADA;AAEHE,QAAAA,YAAY,EAAEC,MAAM,CAACI;AAFlB,OAAP;;AAMJ;AACI,aAAOP,KAAP;AA/CR;AAiDH,CAlDM","sourcesContent":["import {\r\n    ADD_TO_CART,\r\n    REMOVE_ITEM_CART,\r\n    SAVE_SHIPPING_INFO,\r\n    MY_CARTS_REQUEST,\r\n    MY_CARTS_SUCCESS,\r\n    MY_CARTS_FAIL\r\n} from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\r\n    switch (action.type) {\r\n        case MY_CARTS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case MY_CARTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                carts: action.payload\r\n            }\r\n        case MY_CARTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const isItemExist = state.cartItems.find(i => i.product === item.product)\r\n\r\n            if (isItemExist) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item]\r\n                }\r\n            }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(i => i.product !== action.payload)\r\n            }\r\n\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}