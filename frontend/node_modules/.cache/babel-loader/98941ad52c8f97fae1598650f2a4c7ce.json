{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, MY_CARTS_REQUEST, MY_CARTS_SUCCESS, MY_CARTS_FAIL, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAIL, REMOVE_ITEM_CART_SUCCESS } from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case MY_CARTS_REQUEST:\n      return {\n        loading: true\n      };\n\n    case MY_CARTS_SUCCESS:\n      return {\n        loading: false,\n        ...state,\n        cartItems: action.payload\n      };\n\n    case MY_CARTS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      };\n\n    case ADD_TO_CART:\n      return { ...state,\n        loading: true\n      };\n\n    case ADD_TO_CART_SUCCESS:\n      return { ...state,\n        loading: false,\n        cartItems: action.payload\n      };\n\n    case ADD_TO_CART_FAIL:\n      return { ...state,\n        error: action.payload\n      };\n    // const item = action.payload;\n    // const isItemExist = state.cartItems.find(i => i.product === item.product)\n    // if (isItemExist) {\n    //     return {\n    //         ...state,\n    //         cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\n    //     }\n    // } else {\n    //     return {\n    //         ...state,\n    //         cartItems: [...state.cartItems, item]\n    //     }\n    // }\n\n    case REMOVE_ITEM_CART:\n      return { ...state,\n        loading: true\n      };\n\n    case REMOVE_ITEM_CART_SUCCESS:\n      return { ...state,\n        cartItems: action.payload\n      };\n\n    case SAVE_SHIPPING_INFO:\n      return { ...state,\n        shippingInfo: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/anhta/OneDrive/Máy tính/Nhom3_IVS_ThucTapChuyenNganh/frontend/src/reducers/cartReducers.js"],"names":["ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","MY_CARTS_REQUEST","MY_CARTS_SUCCESS","MY_CARTS_FAIL","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAIL","REMOVE_ITEM_CART_SUCCESS","cartReducer","state","cartItems","action","type","loading","payload","error","shippingInfo"],"mappings":"AAAA,SACIA,WADJ,EAEIC,gBAFJ,EAGIC,kBAHJ,EAIIC,gBAJJ,EAKIC,gBALJ,EAMIC,aANJ,EAOIC,mBAPJ,EAQIC,gBARJ,EASIC,wBATJ,QAUO,4BAVP;AAYA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,SAAS,EAAE;AAAb,CAAT,EAA4BC,MAA5B,KAAuC;AAC9D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,gBAAL;AACI,aAAO;AACHW,QAAAA,OAAO,EAAE;AADN,OAAP;;AAGJ,SAAKV,gBAAL;AACI,aAAO;AACHU,QAAAA,OAAO,EAAE,KADN;AAEH,WAAGJ,KAFA;AAGHC,QAAAA,SAAS,EAAEC,MAAM,CAACG;AAHf,OAAP;;AAKJ,SAAKV,aAAL;AACI,aAAO;AACHS,QAAAA,OAAO,EAAE,KADN;AAEHE,QAAAA,KAAK,EAAEJ,MAAM,CAACG;AAFX,OAAP;;AAIJ,SAAKf,WAAL;AACI,aAAO,EACH,GAAGU,KADA;AAEHI,QAAAA,OAAO,EAAE;AAFN,OAAP;;AAKJ,SAAKR,mBAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHI,QAAAA,OAAO,EAAE,KAFN;AAGHH,QAAAA,SAAS,EAAEC,MAAM,CAACG;AAHf,OAAP;;AAKJ,SAAKR,gBAAL;AACI,aAAO,EACH,GAAGG,KADA;AAEHM,QAAAA,KAAK,EAAEJ,MAAM,CAACG;AAFX,OAAP;AAIA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEJ,SAAKd,gBAAL;AACI,aAAO,EACH,GAAGS,KADA;AAEHI,QAAAA,OAAO,EAAE;AAFN,OAAP;;AAIJ,SAAKN,wBAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEHC,QAAAA,SAAS,EAAEC,MAAM,CAACG;AAFf,OAAP;;AAMJ,SAAKb,kBAAL;AACI,aAAO,EACH,GAAGQ,KADA;AAEHO,QAAAA,YAAY,EAAEL,MAAM,CAACG;AAFlB,OAAP;;AAMJ;AACI,aAAOL,KAAP;AArER;AAuEH,CAxEM","sourcesContent":["import {\r\n    ADD_TO_CART,\r\n    REMOVE_ITEM_CART,\r\n    SAVE_SHIPPING_INFO,\r\n    MY_CARTS_REQUEST,\r\n    MY_CARTS_SUCCESS,\r\n    MY_CARTS_FAIL,\r\n    ADD_TO_CART_SUCCESS,\r\n    ADD_TO_CART_FAIL,\r\n    REMOVE_ITEM_CART_SUCCESS\r\n} from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n    switch (action.type) {\r\n        case MY_CARTS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case MY_CARTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                ...state,\r\n                cartItems: action.payload\r\n            }\r\n        case MY_CARTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n\r\n            }\r\n        case ADD_TO_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                cartItems: action.payload\r\n            }\r\n        case ADD_TO_CART_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n            // const item = action.payload;\r\n\r\n            // const isItemExist = state.cartItems.find(i => i.product === item.product)\r\n\r\n            // if (isItemExist) {\r\n            //     return {\r\n            //         ...state,\r\n            //         cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\r\n            //     }\r\n            // } else {\r\n            //     return {\r\n            //         ...state,\r\n            //         cartItems: [...state.cartItems, item]\r\n            //     }\r\n            // }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case REMOVE_ITEM_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cartItems: action.payload\r\n            }\r\n\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}