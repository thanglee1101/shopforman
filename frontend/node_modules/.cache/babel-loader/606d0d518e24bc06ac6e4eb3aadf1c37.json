{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO, MY_CARTS_REQUEST, MY_CARTS_SUCCESS, MY_CARTS_FAIL, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAIL, REMOVE_ITEM_CART_SUCCESS, CLEAR_ITEM_CART, CLEAR_ITEM_CART_SUCCESS } from '../constants/cartConstants';\nexport const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case MY_CARTS_REQUEST:\n      return {\n        loading: true,\n        cartItems: []\n      };\n\n    case MY_CARTS_SUCCESS:\n      return {\n        loading: false,\n        ...state,\n        cartItems: action.payload.cart.cartItem\n      };\n\n    case MY_CARTS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      };\n\n    case ADD_TO_CART:\n      return { ...state,\n        loading: true\n      };\n\n    case ADD_TO_CART_SUCCESS:\n      return { ...state,\n        loading: false,\n        cartItems: action.payload.cart.cartItem\n      };\n\n    case ADD_TO_CART_FAIL:\n      return { ...state,\n        error: action.payload\n      };\n    // const item = action.payload;\n    // const isItemExist = state.cartItems.find(i => i.product === item.product)\n    // if (isItemExist) {\n    //     return {\n    //         ...state,\n    //         cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\n    //     }\n    // } else {\n    //     return {\n    //         ...state,\n    //         cartItems: [...state.cartItems, item]\n    //     }\n    // }\n\n    case REMOVE_ITEM_CART:\n      return { ...state,\n        loading: true\n      };\n\n    case REMOVE_ITEM_CART_SUCCESS:\n      return { ...state,\n        cartItems: action.payload.cart.cartItem\n      };\n\n    case CLEAR_ITEM_CART:\n      return { ...state,\n        cartItems: cartItems\n      };\n\n    case CLEAR_ITEM_CART_SUCCESS:\n      return { ...state,\n        cartItems: []\n      };\n\n    case SAVE_SHIPPING_INFO:\n      return { ...state,\n        shippingInfo: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/anhta/OneDrive/Máy tính/Nhom3_IVS_ThucTapChuyenNganh/frontend/src/reducers/cartReducers.js"],"names":["ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","MY_CARTS_REQUEST","MY_CARTS_SUCCESS","MY_CARTS_FAIL","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAIL","REMOVE_ITEM_CART_SUCCESS","CLEAR_ITEM_CART","CLEAR_ITEM_CART_SUCCESS","cartReducer","state","cartItems","action","type","loading","payload","cart","cartItem","error","shippingInfo"],"mappings":"AAAA,SACIA,WADJ,EAEIC,gBAFJ,EAGIC,kBAHJ,EAIIC,gBAJJ,EAKIC,gBALJ,EAMIC,aANJ,EAOIC,mBAPJ,EAQIC,gBARJ,EASIC,wBATJ,EAUIC,eAVJ,EAWIC,uBAXJ,QAYO,4BAZP;AAcA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,SAAS,EAAE;AAAb,CAAT,EAA4BC,MAA5B,KAAuC;AAC9D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKZ,gBAAL;AACI,aAAO;AACHa,QAAAA,OAAO,EAAE,IADN;AAEHH,QAAAA,SAAS,EAAE;AAFR,OAAP;;AAIJ,SAAKT,gBAAL;AACI,aAAO;AACHY,QAAAA,OAAO,EAAE,KADN;AAEH,WAAGJ,KAFA;AAGHC,QAAAA,SAAS,EAAEC,MAAM,CAACG,OAAP,CAAeC,IAAf,CAAoBC;AAH5B,OAAP;;AAKJ,SAAKd,aAAL;AACI,aAAO;AACHW,QAAAA,OAAO,EAAE,KADN;AAEHI,QAAAA,KAAK,EAAEN,MAAM,CAACG;AAFX,OAAP;;AAIJ,SAAKjB,WAAL;AACI,aAAO,EACH,GAAGY,KADA;AAEHI,QAAAA,OAAO,EAAE;AAFN,OAAP;;AAKJ,SAAKV,mBAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHI,QAAAA,OAAO,EAAE,KAFN;AAGHH,QAAAA,SAAS,EAAEC,MAAM,CAACG,OAAP,CAAeC,IAAf,CAAoBC;AAH5B,OAAP;;AAKJ,SAAKZ,gBAAL;AACI,aAAO,EACH,GAAGK,KADA;AAEHQ,QAAAA,KAAK,EAAEN,MAAM,CAACG;AAFX,OAAP;AAIA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEJ,SAAKhB,gBAAL;AACI,aAAO,EACH,GAAGW,KADA;AAEHI,QAAAA,OAAO,EAAE;AAFN,OAAP;;AAIJ,SAAKR,wBAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHC,QAAAA,SAAS,EAAEC,MAAM,CAACG,OAAP,CAAeC,IAAf,CAAoBC;AAF5B,OAAP;;AAIJ,SAAKV,eAAL;AACI,aAAO,EACH,GAAGG,KADA;AAEHC,QAAAA,SAAS,EAAEA;AAFR,OAAP;;AAIJ,SAAKH,uBAAL;AACI,aAAO,EACH,GAAGE,KADA;AAEHC,QAAAA,SAAS,EAAE;AAFR,OAAP;;AAIJ,SAAKX,kBAAL;AACI,aAAO,EACH,GAAGU,KADA;AAEHS,QAAAA,YAAY,EAAEP,MAAM,CAACG;AAFlB,OAAP;;AAMJ;AACI,aAAOL,KAAP;AA9ER;AAgFH,CAjFM","sourcesContent":["import {\r\n    ADD_TO_CART,\r\n    REMOVE_ITEM_CART,\r\n    SAVE_SHIPPING_INFO,\r\n    MY_CARTS_REQUEST,\r\n    MY_CARTS_SUCCESS,\r\n    MY_CARTS_FAIL,\r\n    ADD_TO_CART_SUCCESS,\r\n    ADD_TO_CART_FAIL,\r\n    REMOVE_ITEM_CART_SUCCESS,\r\n    CLEAR_ITEM_CART,\r\n    CLEAR_ITEM_CART_SUCCESS\r\n} from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n    switch (action.type) {\r\n        case MY_CARTS_REQUEST:\r\n            return {\r\n                loading: true,\r\n                cartItems: []\r\n            }\r\n        case MY_CARTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                ...state,\r\n                cartItems: action.payload.cart.cartItem\r\n            }\r\n        case MY_CARTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n\r\n            }\r\n        case ADD_TO_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                cartItems: action.payload.cart.cartItem\r\n            }\r\n        case ADD_TO_CART_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n            // const item = action.payload;\r\n\r\n            // const isItemExist = state.cartItems.find(i => i.product === item.product)\r\n\r\n            // if (isItemExist) {\r\n            //     return {\r\n            //         ...state,\r\n            //         cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\r\n            //     }\r\n            // } else {\r\n            //     return {\r\n            //         ...state,\r\n            //         cartItems: [...state.cartItems, item]\r\n            //     }\r\n            // }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case REMOVE_ITEM_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cartItems: action.payload.cart.cartItem\r\n            }\r\n        case CLEAR_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: cartItems\r\n            }\r\n        case CLEAR_ITEM_CART_SUCCESS:\r\n            return {\r\n                ...state,\r\n                cartItems: []\r\n            }\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}